<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Internships - Student GIG</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
  <div class="dashboard">
    <aside class="sidebar">
      <div class="sidebar-header">
        <a href="index.html" class="sidebar-logo">GIG</a>
      </div>
      <nav class="sidebar-nav">
        <a href="dashboard.html" class="sidebar-link"><i class="fas fa-home"></i> Dashboard</a>
        <a href="subjects.html" class="sidebar-link"><i class="fas fa-book-open"></i> Subjects</a>
        <a href="notes.html" class="sidebar-link"><i class="fas fa-sticky-note"></i> Notes</a>
        <a href="practice.html" class="sidebar-link"><i class="fas fa-brain"></i> Practice</a>
        <a href="tests.html" class="sidebar-link"><i class="fas fa-clipboard-check"></i> Tests</a>
        <a href="classes.html" class="sidebar-link"><i class="fas fa-video"></i> Classes</a>
        <a href="internships.html" class="sidebar-link active"><i class="fas fa-briefcase"></i> Internships</a>
        <a href="profile.html" class="sidebar-link"><i class="fas fa-user"></i> Profile</a>
      </nav>
      <div class="sidebar-footer">
        <button class="btn btn-ghost" style="width: 100%;" onclick="Auth.logout()">
          <i class="fas fa-sign-out-alt"></i> Logout
        </button>
      </div>
    </aside>

    <main class="main-content">
      <div class="dashboard-header">
        <h1 class="welcome-text">Internships ðŸ’¼</h1>
        <p class="welcome-subtitle">Find opportunities to kickstart your career</p>
      </div>

      <div class="search-container" style="max-width: 100%;">
        <i class="fas fa-search search-icon"></i>
        <input type="text" class="search-input" placeholder="Search internships by title, company, or skills..." id="internshipSearch">
      </div>

      <div class="grid grid-2" id="internshipsContainer">
        <!-- Internships rendered here -->
      </div>
    </main>
  </div>

  <script src="js/main.js"></script>
  <script>
    if (!Auth.currentUser) {
      window.location.href = 'signin.html';
    }

    const internships = [
      {
        id: 1,
        company: 'TechCorp',
        logo: 'ðŸ¢',
        title: 'Frontend Developer Intern',
        location: 'Remote',
        duration: '3 months',
        stipend: 'â‚¹15,000/month',
        skills: ['HTML', 'CSS', 'JavaScript', 'React'],
        description: 'Work on building modern web interfaces for our product.'
      },
      {
        id: 2,
        company: 'DataFlow Inc',
        logo: 'ðŸ“Š',
        title: 'Python Developer Intern',
        location: 'Bangalore',
        duration: '6 months',
        stipend: 'â‚¹20,000/month',
        skills: ['Python', 'Django', 'SQL', 'APIs'],
        description: 'Help build data processing pipelines and APIs.'
      },
      {
        id: 3,
        company: 'WebStudio',
        logo: 'ðŸŽ¨',
        title: 'UI/UX Design Intern',
        location: 'Remote',
        duration: '3 months',
        stipend: 'â‚¹12,000/month',
        skills: ['Figma', 'CSS', 'Design Systems'],
        description: 'Design beautiful interfaces and improve user experience.'
      },
      {
        id: 4,
        company: 'CloudBase',
        logo: 'â˜ï¸',
        title: 'Full Stack Intern',
        location: 'Mumbai',
        duration: '6 months',
        stipend: 'â‚¹25,000/month',
        skills: ['Node.js', 'React', 'MongoDB', 'AWS'],
        description: 'Build end-to-end features for our cloud platform.'
      },
      {
        id: 5,
        company: 'AI Labs',
        logo: 'ðŸ¤–',
        title: 'ML Engineering Intern',
        location: 'Hyderabad',
        duration: '4 months',
        stipend: 'â‚¹30,000/month',
        skills: ['Python', 'TensorFlow', 'Data Science'],
        description: 'Work on machine learning models and research.'
      },
      {
        id: 6,
        company: 'StartupX',
        logo: 'ðŸš€',
        title: 'Backend Developer Intern',
        location: 'Remote',
        duration: '3 months',
        stipend: 'â‚¹18,000/month',
        skills: ['Node.js', 'Express', 'PostgreSQL'],
        description: 'Build scalable backend services for our platform.'
      }
    ];

    let savedInternships = JSON.parse(localStorage.getItem('saved_internships') || '[]');

    function renderInternships(data = internships) {
      const container = document.getElementById('internshipsContainer');
      
      container.innerHTML = data.map(i => `
        <div class="internship-card">
          <div class="internship-header">
            <div class="company-logo">${i.logo}</div>
            <div class="internship-info">
              <h3>${i.title}</h3>
              <p>${i.company}</p>
            </div>
          </div>
          <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.875rem;">${i.description}</p>
          <div class="internship-details">
            <span class="detail-item"><i class="fas fa-map-marker-alt"></i> ${i.location}</span>
            <span class="detail-item"><i class="fas fa-calendar"></i> ${i.duration}</span>
            <span class="detail-item"><i class="fas fa-rupee-sign"></i> ${i.stipend}</span>
          </div>
          <div class="skills-required">
            ${i.skills.map(s => `<span class="skill-tag">${s}</span>`).join('')}
          </div>
          <div class="internship-actions">
            <button class="btn btn-primary" onclick="applyInternship(${i.id})">Apply Now</button>
            <button class="btn btn-ghost" onclick="toggleSave(${i.id})">
              <i class="fas ${savedInternships.includes(i.id) ? 'fa-bookmark' : 'fa-bookmark'}" style="color: ${savedInternships.includes(i.id) ? 'var(--accent-primary)' : 'inherit'}"></i>
              ${savedInternships.includes(i.id) ? 'Saved' : 'Save'}
            </button>
          </div>
        </div>
      `).join('');
    }

    function applyInternship(id) {
      const internship = internships.find(i => i.id === id);
      showToast(`Application for ${internship.title} submitted!`);
    }

    function toggleSave(id) {
      if (savedInternships.includes(id)) {
        savedInternships = savedInternships.filter(i => i !== id);
        showToast('Removed from saved');
      } else {
        savedInternships.push(id);
        showToast('Saved to your list!');
      }
      localStorage.setItem('saved_internships', JSON.stringify(savedInternships));
      renderInternships();
    }

    // Search functionality
    document.getElementById('internshipSearch').addEventListener('input', function(e) {
      const query = e.target.value.toLowerCase();
      const filtered = internships.filter(i => 
        i.title.toLowerCase().includes(query) ||
        i.company.toLowerCase().includes(query) ||
        i.skills.some(s => s.toLowerCase().includes(query))
      );
      renderInternships(filtered);
    });

    renderInternships();
  </script>
</body>
</html>
