<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Classes - Student GIG</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
  <div class="dashboard">
    <aside class="sidebar">
      <div class="sidebar-header">
        <a href="index.html" class="sidebar-logo">GIG</a>
      </div>
      <nav class="sidebar-nav">
        <a href="dashboard.html" class="sidebar-link"><i class="fas fa-home"></i> Dashboard</a>
        <a href="subjects.html" class="sidebar-link"><i class="fas fa-book-open"></i> Subjects</a>
        <a href="notes.html" class="sidebar-link"><i class="fas fa-sticky-note"></i> Notes</a>
        <a href="practice.html" class="sidebar-link"><i class="fas fa-brain"></i> Practice</a>
        <a href="tests.html" class="sidebar-link"><i class="fas fa-clipboard-check"></i> Tests</a>
        <a href="classes.html" class="sidebar-link active"><i class="fas fa-video"></i> Classes</a>
        <a href="internships.html" class="sidebar-link"><i class="fas fa-briefcase"></i> Internships</a>
        <a href="profile.html" class="sidebar-link"><i class="fas fa-user"></i> Profile</a>
      </nav>
      <div class="sidebar-footer">
        <button class="btn btn-ghost" style="width: 100%;" onclick="Auth.logout()">
          <i class="fas fa-sign-out-alt"></i> Logout
        </button>
      </div>
    </aside>

    <main class="main-content">
      <div class="dashboard-header">
        <h1 class="welcome-text">Video Classes ðŸŽ¥</h1>
        <p class="welcome-subtitle">Learn from curated video playlists</p>
      </div>

      <div class="practice-filters">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="html">HTML</button>
        <button class="filter-btn" data-filter="css">CSS</button>
        <button class="filter-btn" data-filter="js">JavaScript</button>
        <button class="filter-btn" data-filter="python">Python</button>
      </div>

      <div class="grid grid-3" id="videosContainer">
        <!-- Videos rendered here -->
      </div>
    </main>
  </div>

  <!-- Video Modal -->
  <div class="modal-overlay" id="videoModal">
    <div class="modal" style="max-width: 900px; padding: 0;">
      <div class="modal-header" style="padding: 1.5rem;">
        <h3 class="modal-title" id="videoTitle">Video</h3>
        <button class="modal-close" onclick="closeVideoModal()"><i class="fas fa-times"></i></button>
      </div>
      <div style="aspect-ratio: 16/9; background: #000;">
        <iframe id="videoFrame" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>
      </div>
    </div>
  </div>

  <script src="js/main.js"></script>
  <script>
    if (!Auth.currentUser) {
      window.location.href = 'signin.html';
    }

    const videos = [
      { id: 1, subject: 'html', title: 'HTML Crash Course', duration: '1:05:00', level: 'Beginner', videoId: 'qz0aGYrrlhU', thumbnail: 'https://img.youtube.com/vi/qz0aGYrrlhU/maxresdefault.jpg' },
      { id: 2, subject: 'html', title: 'HTML Full Tutorial', duration: '2:00:00', level: 'Beginner', videoId: 'pQN-pnXPaVg', thumbnail: 'https://img.youtube.com/vi/pQN-pnXPaVg/maxresdefault.jpg' },
      { id: 3, subject: 'css', title: 'CSS Tutorial Full Course', duration: '6:18:00', level: 'Beginner', videoId: 'OXGznpKZ_sA', thumbnail: 'https://img.youtube.com/vi/OXGznpKZ_sA/maxresdefault.jpg' },
      { id: 4, subject: 'css', title: 'CSS Flexbox Tutorial', duration: '20:00', level: 'Intermediate', videoId: 'JJSoEo8JSnc', thumbnail: 'https://img.youtube.com/vi/JJSoEo8JSnc/maxresdefault.jpg' },
      { id: 5, subject: 'js', title: 'JavaScript Tutorial for Beginners', duration: '3:26:00', level: 'Beginner', videoId: 'PkZNo7MFNFg', thumbnail: 'https://img.youtube.com/vi/PkZNo7MFNFg/maxresdefault.jpg' },
      { id: 6, subject: 'js', title: 'JavaScript ES6 Features', duration: '1:30:00', level: 'Intermediate', videoId: 'NCwa_xi0Uuc', thumbnail: 'https://img.youtube.com/vi/NCwa_xi0Uuc/maxresdefault.jpg' },
      { id: 7, subject: 'python', title: 'Python for Beginners', duration: '4:26:00', level: 'Beginner', videoId: 'rfscVS0vtbw', thumbnail: 'https://img.youtube.com/vi/rfscVS0vtbw/maxresdefault.jpg' },
      { id: 8, subject: 'python', title: 'Python Full Course', duration: '12:00:00', level: 'Comprehensive', videoId: '_uQrJ0TkZlc', thumbnail: 'https://img.youtube.com/vi/_uQrJ0TkZlc/maxresdefault.jpg' },
      { id: 9, subject: 'css', title: 'CSS Grid Tutorial', duration: '18:00', level: 'Intermediate', videoId: 'jV8B24rSN5o', thumbnail: 'https://img.youtube.com/vi/jV8B24rSN5o/maxresdefault.jpg' }
    ];

    let currentFilter = 'all';

    function renderVideos() {
      const container = document.getElementById('videosContainer');
      const filtered = currentFilter === 'all' ? videos : videos.filter(v => v.subject === currentFilter);
      
      container.innerHTML = filtered.map(v => `
        <div class="video-card" onclick="playVideo('${v.videoId}', '${v.title}')">
          <div class="video-thumbnail">
            <img src="${v.thumbnail}" alt="${v.title}" onerror="this.src='https://via.placeholder.com/480x270?text=${v.subject.toUpperCase()}'">
            <div class="play-overlay">
              <div class="play-btn"><i class="fas fa-play"></i></div>
            </div>
          </div>
          <div class="video-info">
            <h4 class="video-title">${v.title}</h4>
            <div class="video-meta">
              <span><i class="fas fa-clock"></i> ${v.duration}</span>
              <span><i class="fas fa-signal"></i> ${v.level}</span>
            </div>
          </div>
        </div>
      `).join('');
    }

    function playVideo(videoId, title) {
      document.getElementById('videoTitle').textContent = title;
      document.getElementById('videoFrame').src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
      document.getElementById('videoModal').classList.add('active');
    }

    function closeVideoModal() {
      document.getElementById('videoModal').classList.remove('active');
      document.getElementById('videoFrame').src = '';
    }

    // Filter buttons
    document.querySelectorAll('.filter-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        currentFilter = this.dataset.filter;
        renderVideos();
      });
    });

    renderVideos();
  </script>
</body>
</html>
